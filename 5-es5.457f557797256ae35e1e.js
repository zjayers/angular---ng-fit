function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{CKRj:function(e,t,n){"use strict";n.r(t),n.d(t,"TrainingModule",(function(){return Y}));var a=n("I/3d"),i=n("PCNd"),r=n("tyNb"),c=n("fXoL"),o=n("vEl1"),s=n("ofXK"),l=n("wZkO"),u=n("XiUz"),b=n("3Pt+"),m=n("Wp6s"),f=n("kmnG"),p=n("d3UM"),d=n("bTqV"),g=n("FKr1");function h(e,t){if(1&e&&(c.Vb(0,"mat-option",8),c.Ac(1),c.Ub()),2&e){var n=t.$implicit;c.mc("value",n.id),c.Db(1),c.Cc(" ",n.name," ")}}var v,y=((v=function(){function e(t){_classCallCheck(this,e),this.trainingService=t}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.exSub=this.trainingService.fetchAvailableExercises().subscribe((function(t){e.exercises=t}))}},{key:"ngOnDestroy",value:function(){this.exSub&&this.exSub.unsubscribe()}},{key:"onStartTraining",value:function(e){this.trainingService.startEx(e.value.exercise)}}]),e}()).\u0275fac=function(e){return new(e||v)(c.Pb(o.a))},v.\u0275cmp=c.Jb({type:v,selectors:[["app-new-training"]],decls:15,vars:2,consts:[["fxLayout","","fxLayoutAlign","center",1,"new-training"],[3,"ngSubmit"],["f","ngForm"],["fxFlex.xs","100%","fxFlex","400px"],["fxLayoutAlign","center"],["ngModel","","name","exercise","required",""],[3,"value",4,"ngFor","ngForOf"],["type","submit","mat-button","",3,"disabled"],[3,"value"]],template:function(e,t){if(1&e){var n=c.Wb();c.Vb(0,"section",0),c.Vb(1,"form",1,2),c.dc("ngSubmit",(function(){c.tc(n);var e=c.rc(2);return t.onStartTraining(e)})),c.Vb(3,"mat-card",3),c.Vb(4,"mat-card-title",4),c.Ac(5," Time to start a workout! "),c.Ub(),c.Vb(6,"mat-card-content",4),c.Vb(7,"mat-form-field"),c.Vb(8,"mat-label"),c.Ac(9,"Workout"),c.Ub(),c.Vb(10,"mat-select",5),c.zc(11,h,2,2,"mat-option",6),c.Ub(),c.Ub(),c.Ub(),c.Vb(12,"mat-card-actions",4),c.Vb(13,"button",7),c.Ac(14," Start "),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub()}if(2&e){var a=c.rc(2);c.Db(11),c.mc("ngForOf",t.exercises),c.Db(2),c.mc("disabled",a.invalid)}},directives:[u.c,u.b,b.p,b.k,b.l,m.a,u.a,m.e,m.c,f.c,f.g,p.a,b.j,b.m,b.n,s.l,m.b,d.a,g.n],styles:[".new-training[_ngcontent-%COMP%]{padding:30px 0}"]}),v),C=n("+0xr"),S=n("Dh3D"),U=n("M9IT"),V=n("qFsG");function w(e,t){1&e&&(c.Vb(0,"mat-header-cell",14),c.Ac(1,"Date"),c.Ub())}function D(e,t){if(1&e&&(c.Vb(0,"mat-cell"),c.Ac(1),c.ic(2,"date"),c.Ub()),2&e){var n=t.$implicit;c.Db(1),c.Bc(c.jc(2,1,n.date))}}function x(e,t){1&e&&(c.Vb(0,"mat-header-cell",14),c.Ac(1,"Name"),c.Ub())}function k(e,t){if(1&e&&(c.Vb(0,"mat-cell"),c.Ac(1),c.Ub()),2&e){var n=t.$implicit;c.Db(1),c.Bc(n.name)}}function A(e,t){1&e&&(c.Vb(0,"mat-header-cell",14),c.Ac(1,"Calories"),c.Ub())}function z(e,t){if(1&e&&(c.Vb(0,"mat-cell"),c.Ac(1),c.ic(2,"number"),c.Ub()),2&e){var n=t.$implicit;c.Db(1),c.Bc(c.jc(2,1,n.calories))}}function T(e,t){1&e&&(c.Vb(0,"mat-header-cell",14),c.Ac(1,"Duration"),c.Ub())}function O(e,t){if(1&e&&(c.Vb(0,"mat-cell"),c.Ac(1),c.ic(2,"number"),c.Ub()),2&e){var n=t.$implicit;c.Db(1),c.Bc(c.jc(2,1,n.duration))}}function _(e,t){1&e&&(c.Vb(0,"mat-header-cell",14),c.Ac(1,"State"),c.Ub())}function P(e,t){if(1&e&&(c.Vb(0,"mat-cell"),c.Ac(1),c.Ub()),2&e){var n=t.$implicit;c.Db(1),c.Bc(n.state)}}function I(e,t){1&e&&c.Qb(0,"mat-header-row")}function E(e,t){1&e&&c.Qb(0,"mat-row")}var F,R,j,L=function(){return[1,5,10,20]},M=((F=function(){function e(t){_classCallCheck(this,e),this.trainingService=t,this.displayedColumns=["date","name","duration","calories","state"],this.dataSource=new C.k}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.trainingService.fetchCompletedOrCancelledExercises().subscribe((function(t){t&&(e.dataSource.data=t,e.dataSource.sort=e.sort,e.dataSource.paginator=e.paginator)}))}},{key:"doFilter",value:function(e){this.dataSource.filter=e.trim().toLowerCase()}}]),e}()).\u0275fac=function(e){return new(e||F)(c.Pb(o.a))},F.\u0275cmp=c.Jb({type:F,selectors:[["app-past-training"]],viewQuery:function(e,t){var n;1&e&&(c.Ec(S.a,!0),c.Ec(U.a,!0)),2&e&&(c.qc(n=c.ec())&&(t.sort=n.first),c.qc(n=c.ec())&&(t.paginator=n.first))},decls:22,vars:6,consts:[["fxLayoutAlign","center center"],["fxFlex","40%"],["matInput","","type","text","placeholder","Filter...",3,"keyup"],["matSort","",3,"dataSource"],["matColumnDef","date"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","name"],["matColumnDef","calories"],["matColumnDef","duration"],["matColumnDef","state"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],[3,"pageSize","pageSizeOptions"],["mat-sort-header",""]],template:function(e,t){1&e&&(c.Vb(0,"div",0),c.Vb(1,"mat-form-field",1),c.Vb(2,"input",2),c.dc("keyup",(function(e){return t.doFilter(e.target.value)})),c.Ub(),c.Ub(),c.Ub(),c.Vb(3,"mat-table",3),c.Tb(4,4),c.zc(5,w,2,0,"mat-header-cell",5),c.zc(6,D,3,3,"mat-cell",6),c.Sb(),c.Tb(7,7),c.zc(8,x,2,0,"mat-header-cell",5),c.zc(9,k,2,1,"mat-cell",6),c.Sb(),c.Tb(10,8),c.zc(11,A,2,0,"mat-header-cell",5),c.zc(12,z,3,3,"mat-cell",6),c.Sb(),c.Tb(13,9),c.zc(14,T,2,0,"mat-header-cell",5),c.zc(15,O,3,3,"mat-cell",6),c.Sb(),c.Tb(16,10),c.zc(17,_,2,0,"mat-header-cell",5),c.zc(18,P,2,1,"mat-cell",6),c.Sb(),c.zc(19,I,1,0,"mat-header-row",11),c.zc(20,E,1,0,"mat-row",12),c.Ub(),c.Qb(21,"mat-paginator",13)),2&e&&(c.Db(3),c.mc("dataSource",t.dataSource),c.Db(16),c.mc("matHeaderRowDef",t.displayedColumns),c.Db(1),c.mc("matRowDefColumns",t.displayedColumns),c.Db(1),c.mc("pageSize",10)("pageSizeOptions",c.nc(5,L)))},directives:[u.b,f.c,u.a,V.b,C.j,S.a,C.c,C.e,C.b,C.g,C.i,U.a,C.d,S.b,C.a,C.f,C.h],pipes:[s.e,s.f],styles:[""]}),F),Q=n("0IaG"),J=((R=function e(t){_classCallCheck(this,e),this.inputData=t}).\u0275fac=function(e){return new(e||R)(c.Pb(Q.a))},R.\u0275cmp=c.Jb({type:R,selectors:[["app-stop-training"]],decls:10,vars:1,consts:[["mat-dialog-title",""],["mat-raised-button","","mat-dialog-close","true","color","primary"],["mat-raised-button","","mat-dialog-close","false","color","warn"]],template:function(e,t){1&e&&(c.Vb(0,"h1",0),c.Ac(1,"Are you sure?"),c.Ub(),c.Vb(2,"mat-dialog-content"),c.Vb(3,"p"),c.Ac(4),c.Ub(),c.Ub(),c.Vb(5,"mat-dialog-actions"),c.Vb(6,"button",1),c.Ac(7," Yes "),c.Ub(),c.Vb(8,"button",2),c.Ac(9," No "),c.Ub(),c.Ub()),2&e&&(c.Db(4),c.Cc("You've already completed ",t.inputData.progress,"%"))},directives:[Q.g,Q.e,Q.c,d.a,Q.d],encapsulation:2}),R),N=n("Xa2L"),$=((j=function(){function e(t,n){_classCallCheck(this,e),this.dialog=t,this.trainingService=n,this.progress=0}return _createClass(e,[{key:"ngOnInit",value:function(){this.startOrResumeTimer()}},{key:"startOrResumeTimer",value:function(){var e=this,t=this.trainingService.getRunningEx().duration/100*1e3;this.timer=setInterval((function(){e.progress=e.progress+1,e.progress>=100&&(e.trainingService.completeEx(),clearInterval(e.timer))}),t)}},{key:"onStop",value:function(){var e=this;clearInterval(this.timer),this.dialog.open(J,{data:{progress:this.progress}}).afterClosed().subscribe((function(t){"true"===t?e.trainingService.cancelEx(e.progress):e.startOrResumeTimer()}))}}]),e}()).\u0275fac=function(e){return new(e||j)(c.Pb(Q.b),c.Pb(o.a))},j.\u0275cmp=c.Jb({type:j,selectors:[["app-current-training"]],decls:8,vars:2,consts:[["fxLayout","column","fxLayoutAlign","center center",1,"current-training"],["mode","determinate",3,"value"],["mat-raised-button","","color","accent",3,"click"]],template:function(e,t){1&e&&(c.Vb(0,"section",0),c.Qb(1,"mat-progress-spinner",1),c.Vb(2,"h1"),c.Ac(3),c.Ub(),c.Vb(4,"p"),c.Ac(5,"Keep on going, you can do it!"),c.Ub(),c.Vb(6,"button",2),c.dc("click",(function(){return t.onStop()})),c.Ac(7,"Stop"),c.Ub(),c.Ub()),2&e&&(c.Db(1),c.mc("value",t.progress),c.Db(2),c.Cc("",t.progress,"%"))},directives:[u.c,u.b,N.a,d.a],styles:[".current-training[_ngcontent-%COMP%]{padding:30px 0}"]}),j);function q(e,t){1&e&&(c.Vb(0,"mat-tab-group"),c.Vb(1,"mat-tab",1),c.Qb(2,"app-new-training"),c.Ub(),c.Vb(3,"mat-tab",2),c.Qb(4,"app-past-training"),c.Ub(),c.Ub())}function B(e,t){1&e&&c.Qb(0,"app-current-training")}var K,X,G,H=[{path:"",component:(K=function(){function e(t){_classCallCheck(this,e),this.trainingService=t,this.ongoingTraining=!1}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.exSub=this.trainingService.exChanged.subscribe((function(t){e.ongoingTraining=!!t}))}},{key:"ngOnDestroy",value:function(){}}]),e}(),K.\u0275fac=function(e){return new(e||K)(c.Pb(o.a))},K.\u0275cmp=c.Jb({type:K,selectors:[["app-training"]],decls:2,vars:2,consts:[[4,"ngIf"],["label","New Exercise"],["label","Past Exercise"]],template:function(e,t){1&e&&(c.zc(0,q,5,0,"mat-tab-group",0),c.zc(1,B,1,0,"app-current-training",0)),2&e&&(c.mc("ngIf",!t.ongoingTraining),c.Db(1),c.mc("ngIf",t.ongoingTraining))},directives:[s.m,l.b,l.a,y,M,$],styles:[""]}),K)}],W=((G=function e(){_classCallCheck(this,e)}).\u0275mod=c.Nb({type:G}),G.\u0275inj=c.Mb({factory:function(e){return new(e||G)},providers:[],imports:[[r.c.forChild(H)],r.c]}),G),Y=((X=function e(){_classCallCheck(this,e)}).\u0275mod=c.Nb({type:X}),X.\u0275inj=c.Mb({factory:function(e){return new(e||X)},imports:[[W,i.a,a.b]]}),X)}}]);